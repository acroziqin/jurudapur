if(void 0===dpUI)var dpUI={data:{},helper:{},options:{},versions:{}};dpUI.helper.data2obj=function(e){if(void 0===e)return!1;for(var t={},n=0;n<e.attributes.length;n++)if(-1<(e.attributes[n].nodeName+"").indexOf("data-")){var r=(e.attributes[n].nodeName+"").substring(5),o=e.attributes[n].value;"true"==o.toLowerCase()?o=!0:"false"==o.toLowerCase()?o=!1:parseFloat(o)+""==o&&(o=parseFloat(o)),t[r]=o}return t},dpUI.helper.formatter=function(e,t){if(!t||0==t.length)return e+"";var n=Math.floor(e),r=e-n,o=t.indexOf("."),i=t.length-o-1;for(n+="";n.length<o;)n="0"+n;for(r=Math.round(r*Math.pow(10,i))+"";r.length<i;)r+="0";return n+"."+r},dpUI.helper.betterParseFloat=function(e){return isNaN(parseFloat(e))?e.length<2?parseFloat(e):dpUI.helper.betterParseFloat(e.substring(1)):parseFloat(e)},dpUI.versions.numberPicker="2.0.0",dpUI.numberPicker=function(e,i){var a={start:0,min:!1,max:!1,step:1,format:!1,formatter:function(e){return e},increaseText:"+",decreaseText:"-",onReady:function(){},onMin:function(){},onMax:function(){},beforeIncrease:function(){},beforeDecrease:function(){},beforeChange:function(){},afterIncrease:function(){},afterDecrease:function(){},afterChange:function(){}};$(e).each(function(){var t=this,n=$(t);t.options=$.extend(a,i),t.options=$.extend(t.options,dpUI.helper.data2obj(t)),t.number=dpUI.helper.betterParseFloat(t.options.start),n.addClass("dpui-numberPicker").html("<button class='dpui-numberPicker-decrease'>"+t.options.decreaseText+"</button><input type='text' class='dpui-numberPicker-input' /><button class='dpui-numberPicker-increase'>"+t.options.increaseText+"</button>");var r=n.find(".dpui-numberPicker-input");function o(e){e=dpUI.helper.betterParseFloat(e),isNaN(e)&&(e=t.number),n.removeClass("dpui-numberPicker-min").removeClass("dpui-numberPicker-max"),t.options.beforeChange.call(t,t,t.number),!1!==t.options.min&&e<=t.options.min?(n.addClass("dpui-numberPicker-min"),t.number=t.options.min):!1!==t.options.max&&e>=t.options.max?(n.addClass("dpui-numberPicker-max"),t.number=t.options.max):t.number=e,r.val(t.options.formatter(dpUI.helper.formatter(t.number,t.options.format))),t.options.afterChange.call(t,t,t.number)}r.val(t.options.formatter(dpUI.helper.formatter(t.number,t.options.format))),!1!==t.options.min&&t.options.start==t.options.min&&n.addClass("dpui-numberPicker-min"),!1!==t.options.max&&t.options.start==t.options.max&&n.addClass("dpui-numberPicker-max"),t.set=function(e){o(e)},t.increase=function(){t.options.beforeIncrease.call(t,t,t.number),o(t.number+t.options.step),t.options.afterIncrease.call(t,t,t.number)},t.decrease=function(){t.options.beforeDecrease.call(t,t,t.number),o(t.number-t.options.step),t.options.afterDecrease.call(t,t,t.number)},n.find(".dpui-numberPicker-decrease").on("click",t.decrease),n.find(".dpui-numberPicker-increase").on("click",t.increase),r.on("change",function(){t.set(r.val())})})},jQuery.fn.dpNumberPicker=function(e){if("string"==typeof e){if("increase"==e.toLowerCase())this.each(function(){this.increase()});else if("decrease"==e.toLowerCase())this.each(function(){this.decrease()});else if("set"==e.toLowerCase()&&1<arguments.length){var t=arguments[1];this.each(function(){this.set(t)})}}else dpUI.numberPicker(this.selector,e)};